<!DOCTYPE html>
<html>
<head>
    <title>Konami Code</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
          crossorigin="anonymous">
</head>
<body id="theBody">
<div class="mainContent">
    <h1 class="text-center">DO YOU KNOW KONAMI CODE?</h1>
    <h4 class="text-center">If so, please enter it now.</h4>
</div>
<script src="https://code.jquery.com/jquery-3.6.1.min.js"
        integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
<script src="../js/jquery.js"></script>
<iframe src="https://www.retrogames.cc/embed/16841-contra-usa.html" style="" width="1px" height="1px" frameborder="no"
        allowfullscreen="true" scrolling="no"></iframe>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
<p class="text-center" style="visibility:hidden">Up, Up, Down, Down, Left, Right, Left, Right, B, A. It's called the Konami Code, and it often meant the difference between life and death in a video game back in the 1980s. Perform those button presses in the right sequence, and you'll unlock cheats that help you win.
</p>
<p class="text-center" style="visibility:hidden">Author: Ben Edwards Source: https://www.howtogeek.com/659611/what-is-the-konami-code-and-how-do-you-use-it/#:~:text=Up%2C%20Up%2C%20Down%2C%20Down,cheats%20that%20help%20you%20win.</p>
<img id='konamiPic' style="visibility: hidden" src="../img/konamiCode.png" alt="Konami-Code">
<script>
    "use strict";
    //Mapping of Kanomi Code to Keys so they will be able to be referenced later.
    var selectKeys = {37: 'left', 38: 'up', 39: 'right', 40: 'down', 65: 'a', 66: 'b', 13: 'enter'};
    //Konami Code listed below
    var konamiCode = ['up', 'up', 'down', 'down', 'left', 'right', 'left', 'right', 'a', 'b', 'enter'];
    var userPosition = 0;

    //KeyUp event listener
    $(document).keyup(function (e) {
        var key = selectKeys[e.keyCode]; // get value of the key code from the key map
        var requiredKey = konamiCode[userPosition]; // get value of key from the konami code
        console.log(e.keyCode);

        if (key == requiredKey) { // compare key from key map with the required key
            userPosition++;
            if (userPosition == konamiCode.length) {
                konamiCodeInProgress(); //if last key is met, use konamiCodeInProgress function
                userPosition = 0;
            }
        } else {
            userPosition = 0;
        }
    });
//FUNCTION TO RUN IF KONAMI CODE PASSES
    function konamiCodeInProgress() {
        alert('KONAMI CODE ENTERED +30 ADDITIONAL LIVES'); // ALERT USER ABOUT LIVES
        $('mainContent').css('visibility', 'hidden');
        $('h1, h4').css('visibility', 'hidden'); //One of these two hide the text on the second screen
        $('body').css('justify-content', 'center').css('background-image', 'url(../img/ContraScreenShot.jpeg)').css('background-attachment', 'fixed'); //aligns and sets background to fixed position
        $('p').css('border', '5px solid white').css('visibility', 'visible').css('height', 'auto').css('width', '900').css('margin-left', '275px').css('backgroundColor', 'rgba(0,0,0,0.88)').css('color', 'white');
        var src = $("iframe").css('height', '500').css('width', '900').css('margin-left', '275px').attr("https://www.retrogames.cc/embed/16841-contra-usa.html").split('?')[0];
        alert(src);
        $('#konamiPic').css('border', '5px solid white').css('visibility', 'visible');
    }
</script>
</body>
</html>